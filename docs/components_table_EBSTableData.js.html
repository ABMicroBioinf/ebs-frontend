<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/table/EBSTableData.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/table/EBSTableData.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Author: Jongil Yoon &lt;jiysait@gmail.com>
 */
import { useCallback, useEffect } from "react";
import EBSCellRow from "./EBSCellRow";
import EBSTableHeader from "./EBSTableHeader";
import EBSTableTools from "./EBSTableTools";

import { Grid, Table } from "semantic-ui-react";

// helers
const pick = (obj, keys) => {
  return keys
    .map((k) => (k.value in obj ? { [k.value]: obj[k.value] } : {}))
    .reduce((res, o) => Object.assign(res, o), {});
};

/**
 * A top level table component layouts entire structure of data table
 * @param {*} columData, rowData
 * @returns An entire layout of a table
 */
export default function EBSTableData(props) {
  const { tableTitle, columnData, rowData, setRowData } = props;
  const { dataset, history } = rowData;
  const { columns } = history;

  const getEBSCellRow = useCallback(() => {
    if (columns &amp;&amp; dataset.length > 0) {
      const keys = columns.filter((colState) => colState.display);
      return dataset.map((row, index) => {
        const rowObj = { ...row, data: pick(row.data, keys) };
        return &lt;EBSCellRow row={rowObj} setRowData={setRowData} key={index} />;
      });
    } else {
      return (
        &lt;Table.Row>
          &lt;Table.Cell colSpan={columnData.length + 1}>not found&lt;/Table.Cell>
        &lt;/Table.Row>
      );
    }
  }, [dataset, columnData]);

  useEffect(() => {
    setRowData({
      type: "APPLY_HISTORY",
    });
  }, []);

  return (
    &lt;Grid padded>
      &lt;Grid.Column>
        &lt;Grid padded>
          &lt;Grid.Row>
            &lt;h2>{tableTitle}&lt;/h2>
          &lt;/Grid.Row>
          &lt;Grid.Row>
            &lt;EBSTableTools
              tableTitle={tableTitle}
              columnData={columnData}
              rowData={rowData}
              setRowData={setRowData}
            />
          &lt;/Grid.Row>
          &lt;Grid.Row className="ebs-table-temporary">
            &lt;Table sortable celled collapsing striped size="small">
              &lt;EBSTableHeader rowData={rowData} setRowData={setRowData} />
              &lt;Table.Body>{getEBSCellRow()}&lt;/Table.Body>
            &lt;/Table>
          &lt;/Grid.Row>
        &lt;/Grid>
      &lt;/Grid.Column>
    &lt;/Grid>
  );
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#ColumnSelector">ColumnSelector</a></li><li><a href="global.html#CUSTOM_FIELDS">CUSTOM_FIELDS</a></li><li><a href="global.html#getSchemeDefault">getSchemeDefault</a></li><li><a href="global.html#Home">Home</a></li><li><a href="global.html#PageSizeSelector">PageSizeSelector</a></li><li><a href="global.html#Search">Search</a></li><li><a href="global.html#Sequences">Sequences</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Thu Jul 15 2021 10:37:48 GMT-0600 (미 산지 하계 표준시)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
